TODO
----

+ make it configurable
+ make it more robust when the device isn't using the right modes
